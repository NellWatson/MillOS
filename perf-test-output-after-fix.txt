üöÄ Starting MillOS Performance Analysis

============================================================
üì± Opening http://localhost:3000...
‚úÖ Page loaded (DOM ready)
‚è≥ Waiting 15s for app to stabilize...
‚ùå Console Error: THREE.WebGLRenderer: A WebGL context could not be created. Reason:  Could not create a WebGL context, VENDOR = 0xffff, DEVICE = 0xffff, GL_VENDOR = Disabled, GL_RENDERER = Disabled, Sandboxed = no, Optimus = no, AMD switchable = no, Reset notification strategy = 0x0000, ErrorMessage = BindToCurrentSequence failed: .
‚ùå Console Error: THREE.WebGLRenderer: A WebGL context could not be created. Reason:  Could not create a WebGL context, VENDOR = 0xffff, DEVICE = 0xffff, GL_VENDOR = Disabled, GL_RENDERER = Disabled, Sandboxed = no, Optimus = no, AMD switchable = no, Reset notification strategy = 0x0000, ErrorMessage = BindToCurrentSequence failed: .

============================================================
üìä PERFORMANCE MEASUREMENT
============================================================

‚è±Ô∏è  Sampling performance for 10 seconds...
‚ùå Console Error: THREE.WebGLRenderer: A WebGL context could not be created. Reason:  Could not create a WebGL context, VENDOR = 0xffff, DEVICE = 0xffff, GL_VENDOR = Disabled, GL_RENDERER = Disabled, Sandboxed = no, Optimus = no, AMD switchable = no, Reset notification strategy = 0x0000, ErrorMessage = BindToCurrentSequence failed: .

‚úÖ Performance Metrics:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Average FPS:  36
   Min FPS:      1
   Max FPS:      120
   FPS Variance: 119
   Avg Memory:   134 MB
   Total Frames: 272
   Samples:      272

üéÆ Renderer Info:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Vendor:    Unknown
   Renderer:  Unknown
   Version:   Unknown
   Canvases:  0

üìã Console Log Summary:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Errors:    10
   Warnings:  0

   First 3 errors shown above. 7 more errors in console.

============================================================
üéØ PERFORMANCE ANALYSIS
============================================================

üü° Performance Grade: POOR
   Target: 60 FPS | Actual: 36 FPS
   Gap: 24 FPS improvement needed

üí° RECOMMENDATIONS:

   WARNING: FPS below 45 - optimization recommended
   - Profile individual systems (workers, machines, conveyors)
   - Check for unnecessary re-renders in React components
   - Consider implementing LOD (Level of Detail) systems
   ‚ö†Ô∏è  High FPS variance (119) - indicates inconsistent performance
   - Look for periodic heavy operations (garbage collection, large updates)
   - Check for components that re-render on every frame
   ‚ùå 10 console errors detected - fix errors first before optimizing

============================================================
üîç BOTTLENECK IDENTIFICATION
============================================================

The app is currently running at 36 FPS average.

To identify the specific bottleneck, you need to use the browser DevTools:

1. React DevTools Profiler (CRITICAL - Do this first):
   - Open React DevTools in the Puppeteer browser window
   - Go to "Profiler" tab
   - Click "Record" and let it run for 5 seconds
   - Stop recording
   - Look at "Ranked" view to see which components render most
   - ANY component rendering >10 times in 5 seconds is suspicious
   - Components with >50ms render time are bottlenecks

2. Browser Performance Tab:
   - Open Chrome DevTools (F12)
   - Go to "Performance" tab
   - Start recording
   - Wait 5 seconds
   - Stop recording
   - Look for:
     * Long tasks (yellow blocks >50ms)
     * Repeated function calls in flame chart
     * Memory sawtooth pattern (indicates GC pressure)

3. Three.js Stats:
   - Open console and run:
     const canvas = document.querySelector('canvas');
     const ctx = canvas.getContext('webgl2') || canvas.getContext('webgl');
     console.log('Draw calls per frame: ~' + (ctx.getParameter(ctx.RENDER_CALLS) || 'N/A'));

4. Known Suspects (based on codebase):
   - TruckBay: 28+ useFrame hooks (very heavy)
   - WorkerSystem: 3+ useFrame hooks per worker
   - Machines: 9 useFrame hooks
   - ConveyorSystem: Multiple animated belts
   - ForkliftSystem: Pathfinding + animations

5. Test by disabling systems:
   - You can test by manually opening Graphics Settings in the UI
   - The graphicsStore has perfDebug toggles for each system
   - Disable one at a time and note FPS change
  
============================================================
‚úÖ Performance analysis complete!
============================================================

üîç Browser left open for manual inspection.
   Use React DevTools Profiler (MOST IMPORTANT) to find render storms.
   Press Ctrl+C to close and exit.

