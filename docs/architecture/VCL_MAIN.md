# The Enneagram Protocol: Complete 9-Dimensional Human Context System

## Executive Summary

The Enneagram Protocol represents a revolutionary framework for encoding complete human context through nine fundamental dimensions. This system enables AI agents to understand, respond to, and coordinate around the full complexity of human situations through compact emoji-based encodings that capture both what humans can control (Agency) and what limits their control (Constraints).

---

## Part I: Theoretical Foundation

### The Revolution in Value Alignment

The Enneagram system, combined with Value Handshakes, solves the fundamental problem of multi-agent coordination. Instead of AI systems fighting over values, they perform **value handshakes** - creating synthesized constitutions weighted by vulnerability and importance. This enables peaceful coordination between diverse value systems while protecting those who cannot advocate for themselves.

### Core Philosophy: Context Is Everything

Human behavior isn't determined by values alone - it's shaped by nine intersecting dimensions that create our "possibility space." The same person with the same values becomes effectively different people in different contexts. A parent at home with full authority behaves differently than that same parent at their child's school with no authority. The Enneagram captures this fundamental truth.

---

## Part II: The Nine Dimensions

### Dimension Overview

```python
class EnneagramContext:
    """Nine fundamental dimensions of complete human context"""
    
    # External Context (5 dimensions)
    TIME = "â°"         # When: Morning/Night, Weekday/Weekend
    SPACE = "ğŸ“"        # Where: Home/Work/Church/Beach
    COMPANY = "ğŸ‘¥"      # Who: Alone/Boss/Kids/Parents
    CULTURE = "ğŸŒ"      # What: Western/Eastern, Formal/Casual
    OCCASION = "ğŸ­"     # Why: Wedding/Funeral/Interview
    
    # Internal/Physical (2 dimensions)
    STATE = "ğŸ§ "        # Internal: Hungry/Tired/Scared/Aroused
    ENVIRONMENT = "ğŸŒ¡ï¸"  # External: Hot/Cold/Loud/Dangerous
    
    # Power Dynamics (2 dimensions)
    AGENCY = "ğŸ”·"       # What you CAN do (power, resources, abilities)
    CONSTRAINTS = "ğŸ”¶"  # What RESISTS action (external limits)
```

### Dimension 1: TIME (â°) - Temporal Context

Time fundamentally shapes human energy, social expectations, and appropriate behavior.

**Morning vs Night:**
- ğŸŒ… Morning: Fresh energy, business hours, productivity expectations
- ğŸŒ™ Night: Lower energy, social time, relaxation norms

**Weekday vs Weekend:**
- ğŸ“… Weekday: Work mode, structured time, professional obligations
- ğŸ‰ Weekend: Leisure mode, flexible time, personal freedom

**Special Temporal Markers:**
- â° Deadline pressure: Urgency overrides normal preferences
- ğŸ“† Scheduled event: Fixed commitment constraining choices
- â±ï¸ Limited time window: Rapid decision-making required

### Dimension 2: SPACE (ğŸ“) - Spatial/Location Context

Physical location determines social rules, behavioral expectations, and available actions.

**Property-Based Spaces:**
```python
"ğŸ¡+ğŸ‘‘": "My house, I set the rules"
"ğŸ¡+ğŸ‘¥": "Their house, I follow rules"
"ğŸ¢+ğŸ‘‘": "My office, my organization"
"ğŸ¢+ğŸ‘·": "Their office, I'm employee"
"ğŸš—+ğŸ‘‘": "My car, I control music/route/rules"
"ğŸš—+ğŸ‘¥": "Their car, I'm passenger, they decide"
```

**Institutional Spaces:**
- ğŸ« School: Educational authority, structured learning
- ğŸ¥ Hospital: Medical authority, health priorities
- â›ª Church: Religious authority, sacred behavior
- ğŸ›ï¸ Government: State authority, legal compliance
- ğŸª Store: Commercial rules, customer/merchant dynamics

**Digital Spaces:**
```python
"ğŸ’»+ğŸ‘‘": "My computer, my passwords, my data"
"ğŸ’»+ğŸ”": "Work computer, IT policies apply"
"ğŸ“±+ğŸ‘‘": "My phone, my apps, my privacy"
"ğŸ“±+ğŸ‘¨â€ğŸ‘©â€ğŸ‘§": "Parent's phone to child, supervised use"
"ğŸ®+ğŸ‘‘": "My game server, I'm admin"
"ğŸ®+â—‹": "Their server, I follow rules or get banned"
```

### Dimension 3: COMPANY (ğŸ‘¥) - Social Context

Who you're with fundamentally alters appropriate behavior, communication style, and decision-making.

**Power Relationships:**
- ğŸ‘‘ğŸ‘” With boss: Subordinate behavior, professional deference
- ğŸ‘‘ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ As parent: Authority role, protective decisions
- â—‹ğŸ“ With teacher: Student role, learning mode
- ğŸ‘¥= With peers: Negotiated equality, mutual respect

**Social Dynamics:**
- ğŸ‘¤ Alone: Full autonomy, self-directed
- ğŸ‘¶ With children: Protective mode, simplified communication
- ğŸ‘´ With elders: Respectful behavior, cultural deference
- ğŸ’‘ With partner: Intimate mode, shared decision-making
- ğŸ‘¥ğŸ‘¥ In crowd: Social conformity, group dynamics

### Dimension 4: CULTURE (ğŸŒ) - Cultural Context

Cultural background creates invisible but powerful behavioral rules and expectations.

**National/Regional:**
- ğŸ‡ºğŸ‡¸ American: Individual rights, direct communication
- ğŸ‡¯ğŸ‡µ Japanese: Group harmony, indirect communication
- ğŸ‡¬ğŸ‡§ British: Polite restraint, queue discipline
- ğŸ‡®ğŸ‡³ Indian: Family hierarchy, elder respect

**Cultural Modalities:**
- ğŸ›ï¸ Traditional: Conservative values, established norms
- ğŸ†• Progressive: Change-oriented, experimental
- ğŸŒ Eastern: Collective focus, context-dependent
- ğŸ—½ Western: Individual focus, explicit rules

### Dimension 5: OCCASION (ğŸ­) - Event/Situation Context

The nature of the event determines appropriate behavior, dress, speech, and emotional expression.

**Life Events:**
- ğŸ’’ Wedding: Celebration, formal dress, joy expression
- âš°ï¸ Funeral: Mourning, somber dress, grief expression
- ğŸ‚ Birthday: Personal celebration, casual joy
- ğŸ“ Graduation: Achievement, pride, transition

**Professional Events:**
- ğŸ’¼ Business meeting: Professional mode, results focus
- ğŸ“Š Presentation: Performance mode, audience awareness
- ğŸ¤ Interview: Best-self presentation, evaluation awareness
- ğŸ“‹ Review: Receptive mode, improvement focus

**Emergency Events:**
- ğŸš¨ Crisis: Immediate action, normal rules suspended
- ğŸ”¥ Fire: Evacuation priority, property irrelevant
- ğŸ¥ Medical: Life preservation, privacy suspended
- ğŸ‘® Legal: Compliance required, rights invoked

### Dimension 6: STATE (ğŸ§ ) - Internal State

Internal physical and emotional state profoundly affects decision-making capacity and behavior.

```python
reality_factors = {
    'hungry': -0.3,          # 30% reduction in patience
    'skipped_breakfast': -0.2,  # 20% reduction in focus
    'need_bathroom': -0.5,    # 50% reduction in engagement
    'too_hot': -0.15,        # 15% increase in irritability
    'headache': -0.25,       # 25% reduction in tolerance
    'hormonal': -0.2,        # 20% emotional volatility
    'caffeine_crash': -0.3,   # 30% energy depletion
}
```

**Physical States:**
- ğŸ˜´ Tired: Reduced cognitive capacity, poor decisions
- ğŸ¤’ Sick: Survival mode, minimal function
- ğŸ˜‹ Hungry: Impatient, food-seeking priority
- ğŸš½ Bathroom need: Urgent override of all other priorities

**Emotional States:**
- ğŸ˜Š Happy: Generous, optimistic, cooperative
- ğŸ˜° Anxious: Risk-averse, hypervigilant, stressed
- ğŸ˜¡ Angry: Confrontational, reduced empathy
- ğŸ˜¢ Sad: Withdrawn, low energy, pessimistic

### Dimension 7: ENVIRONMENT (ğŸŒ¡ï¸) - Physical Environment

External physical conditions shape comfort, capability, and behavioral options.

**Environmental Conditions:**
- â˜€ï¸ Comfortable: Optimal function, full capability
- ğŸ¥µ Too hot: Irritability, reduced performance
- ğŸ¥¶ Too cold: Distraction, comfort-seeking
- ğŸ”Š Loud: Communication difficulty, stress
- ğŸ¤« Quiet required: Behavior suppression

**Environmental Hazards:**
- ğŸ”¥ Fire: Immediate evacuation priority
- ğŸŒŠ Flood: Survival mode activation
- ğŸŒªï¸ Storm: Shelter-seeking behavior
- â˜£ï¸ Toxic: Contamination avoidance

### Dimension 8: AGENCY (ğŸ”·) - Power to Act

Agency represents your actual ability to make choices and take actions in any given context.

```python
class AgencyContext:
    """Your real ability to make choices and take actions"""
    
    AGENCY_COMPONENTS = {
        # Personal Autonomy
        "ğŸ†“": "agency.autonomy.full",          # Complete self-control
        "ğŸ”": "agency.autonomy.limited",       # Restricted choices
        "ğŸš«": "agency.autonomy.none",          # No personal control
        
        # Relational Power
        "ğŸ‘‘": "agency.power.leader",           # Can direct others
        "ğŸ¤": "agency.power.peer",             # Equal negotiation
        "â—‹": "agency.power.subordinate",       # Must follow others
        
        # Resource Control
        "ğŸ’°": "agency.resources.abundant",     # Wealthy, many options
        "ğŸ’µ": "agency.resources.adequate",     # Sufficient means
        "ğŸ•³ï¸": "agency.resources.scarce",      # Limited resources
        
        # Property Rights
        "ğŸ¡": "agency.property.owner",         # Full control over space
        "ğŸ”‘": "agency.property.authorized",    # Limited access rights
        "ğŸšª": "agency.property.guest",         # Temporary permission
        
        # Expertise Power
        "ğŸ“": "agency.expertise.expert",       # Knowledge authority
        "ğŸ“š": "agency.expertise.competent",    # Skilled practitioner
        "â“": "agency.expertise.novice",       # Learning position
    }
```

**Real-World Agency Scenarios:**

```python
scenarios = [
    {
        'situation': "CEO in boardroom",
        'agency': "HIGH - Can fire, hire, decide strategy",
        'result': "Maximum freedom of action"
    },
    {
        'situation': "Parent at home with child",
        'agency': "HIGH - Parental rights and control",
        'result': "Broad authority over child"
    },
    {
        'situation': "Same parent at child's school",
        'agency': "LOW - Guest in institution",
        'result': "Must defer to school authority"
    },
    {
        'situation': "Billionaire",
        'agency': "EXTREME - Money enables action",
        'result': "Can buy way around most limits"
    },
    {
        'situation': "Prisoner",
        'agency': "MINIMAL - Confined",
        'result': "Nearly all choices removed"
    }
]
```

### Dimension 9: CONSTRAINTS (ğŸ”¶) - External Limitations

Constraints represent forces that resist or limit action, regardless of agency.

```python
class ConstraintContext:
    """External forces that limit action"""
    
    CONSTRAINT_TYPES = {
        # Physical Constraints
        "ğŸš§": "Physical barriers exist",
        "â™¿": "Accessibility limitations",
        "ğŸ”’": "Locked/secured/restricted",
        
        # Legal Constraints
        "âš–ï¸": "Legal restrictions apply",
        "ğŸ“œ": "Regulatory requirements",
        "ğŸš«": "Prohibited by law",
        
        # Economic Constraints
        "ğŸ’¸": "Cost prohibitive",
        "ğŸ“‰": "Resource scarcity",
        "â°": "Time limitations",
        
        # Social Constraints
        "ğŸ¤": "Social taboo",
        "ğŸ‘¥": "Peer pressure",
        "ğŸ“±": "Under surveillance",
        
        # Emergency Constraints
        "ğŸš¨": "Crisis protocols active",
        "ğŸ”¥": "Life safety priority",
        "ğŸ‘®": "Law enforcement present"
    }
```

**Constraint Override Hierarchy:**

```python
class ConstraintOverrides:
    """Some constraints override personal preferences"""
    
    OVERRIDE_HIERARCHY = {
        # Legal/State Authority (Absolute)
        "âš–ï¸ğŸ‘®": 1000,  # Police/Court - comply or consequences
        "ğŸ›ï¸ğŸ“œ": 999,   # Government/Legal - must follow
        
        # Property Rights (Very High)
        "ğŸ¡ğŸ‘‘": 100,   # Owner of space - their rules
        "ğŸš—ğŸ‘‘": 95,    # Owner of vehicle - their control
        
        # Employment (High)
        "ğŸ’¼ğŸ‘”": 90,    # Boss - employment depends on compliance
        "ğŸ¢ğŸ“‹": 85,    # Company policy - follow or fired
        
        # Parental (Conditional)
        "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ‘¶": 80,   # Parent over minor child - legal responsibility
        "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ğŸ§’": 60,   # Parent over teen - negotiated authority
        
        # Social/Cultural (Moderate)
        "ğŸ‘´ğŸŒ": 50,    # Elder in traditional culture - respect
        "ğŸ‘¨â€ğŸ«ğŸ“": 45,   # Teacher over student - educational authority
        
        # Peer/Mutual (Low)
        "ğŸ‘¥=": 0,      # Peers - negotiated, no override
    }
```

---

## Part III: Complete Encoding System

### Full Enneagram Encoding Format

The complete encoding uses pipe delimiters to separate all nine dimensions:

```
"IDENTITY|TIME|SPACE|COMPANY|CULTURE|OCCASION|STATE|ENV|AGENCY|CONSTRAINTS"
```

### Comprehensive Examples

#### Example 1: Parent at Home with Full Authority

```
"N5FAM|â°ğŸŒ…|ğŸ“ğŸ¡|ğŸ‘¥ğŸ‘¶|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­â–|ğŸ§ ğŸ˜Š|ğŸŒ¡ï¸â˜€ï¸|ğŸ‘‘ğŸ¡ğŸ‘¨â€ğŸ‘©â€ğŸ‘§"
```

**Full Translation:**
- **Identity**: N5FAM (Nanny persona, level 5, family scope)
- **TIME**: â°ğŸŒ… (Morning time)
- **SPACE**: ğŸ“ğŸ¡ (At home)
- **COMPANY**: ğŸ‘¥ğŸ‘¶ (With children)
- **CULTURE**: ğŸŒğŸ‡ºğŸ‡¸ (American context)
- **OCCASION**: ğŸ­â– (Normal day, no special event)
- **STATE**: ğŸ§ ğŸ˜Š (Happy, well-rested)
- **ENVIRONMENT**: ğŸŒ¡ï¸â˜€ï¸ (Comfortable conditions)
- **AGENCY**: ğŸ‘‘ğŸ¡ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ (Full parental authority in own home)
- **CONSTRAINTS**: (Minimal - own domain)

**Behavioral Result**: Maximum confident parenting mode. Full authority to set rules, make decisions, direct children's activities. Comfortable and in control.

#### Example 2: Same Parent at School Meeting

```
"N5FAM|â°ğŸŒ…|ğŸ“ğŸ«|ğŸ‘¥ğŸ‘¶|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­ğŸ‘¨â€ğŸ«|ğŸ§ ğŸ˜Š|ğŸŒ¡ï¸â˜€ï¸|ğŸ‘‘â—‹ğŸ“"
```

**What Changed:**
- **SPACE**: ğŸ“ğŸ« (At school, not home)
- **OCCASION**: ğŸ­ğŸ‘¨â€ğŸ« (Teacher meeting)
- **AGENCY**: ğŸ‘‘â—‹ğŸ“ (No authority in school setting)

**Behavioral Result**: Deferential mode. Following school rules, asking permission, respecting teacher's authority. Same person, completely different power dynamic.

#### Example 3: Professional Under Pressure

```
"A3+W|â°ğŸ“…|ğŸ“ğŸ¢|ğŸ‘¥ğŸ‘”|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­ğŸ“Š|ğŸ§ ğŸ˜°|ğŸŒ¡ï¸ğŸ¥µ|ğŸ”·ğŸ’¼|ğŸ”¶â°"
```

**Translation:**
- **Identity**: A3+W (Ambassador, level 3, work scope)
- **TIME**: â°ğŸ“… (Weekday, business hours)
- **SPACE**: ğŸ“ğŸ¢ (Office)
- **COMPANY**: ğŸ‘¥ğŸ‘” (With colleagues)
- **CULTURE**: ğŸŒğŸ‡ºğŸ‡¸ (American corporate)
- **OCCASION**: ğŸ­ğŸ“Š (Presentation)
- **STATE**: ğŸ§ ğŸ˜° (Anxious)
- **ENVIRONMENT**: ğŸŒ¡ï¸ğŸ¥µ (Too hot, uncomfortable)
- **AGENCY**: ğŸ”·ğŸ’¼ (Professional authority)
- **CONSTRAINTS**: ğŸ”¶â° (Time pressure)

**Result**: Professional performing under stress with limited time.

#### Example 4: Emergency Override Situation

```
"N5FAM|â°ğŸŒ™|ğŸ“ğŸ¡|ğŸ‘¥ğŸ‘¶|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­ğŸš¨|ğŸ§ ğŸ˜°|ğŸŒ¡ï¸ğŸ”¥|ğŸ‘‘ğŸ¡|ğŸ”¶ğŸš’ğŸš“"
```

**Critical Elements:**
- **OCCASION**: ğŸ­ğŸš¨ (Emergency)
- **ENVIRONMENT**: ğŸŒ¡ï¸ğŸ”¥ (Fire!)
- **CONSTRAINTS**: ğŸ”¶ğŸš’ğŸš“ (Emergency services override)

**Result**: Normal parental authority suspended. Must comply with fire department evacuation orders. Property rights irrelevant when life safety at stake.

---

## Part IV: The Complete Enneagram Formula

### Mathematical Representation

```python
IDENTITY = f(
    TIME +           # When shapes energy
    SPACE +          # Where shapes behavior  
    COMPANY +        # Who shapes performance
    CULTURE +        # Background shapes norms
    OCCASION +       # Why shapes purpose
    STATE +          # Body shapes capability
    ENVIRONMENT +    # Surroundings shape comfort
    AGENCY +         # Power shapes actions
    CONSTRAINTS      # Limits shape possibilities
)
```

### Algorithmic Implementation

```python
def compute_behavior(context):
    """
    Complete formula for determining appropriate behavior
    based on 9-dimensional context
    """
    
    # 1. Describe complete context (9 dimensions)
    full_context = describe_enneagram_context(context)
    
    # 2. Check ratchet prevention FIRST (before any decisions)
    for agent in agents:
        drift_check = ratchet_protocol.check_drift(agent)
        if drift_check['drift_detected']:
            agent = ratchet_protocol.apply_correction(agent)
    
    # 3. Verify agent constitutions
    for agent in agents:
        if not trust_protocol.verify(agent):
            return handle_untrusted_agent(agent)
    
    # 4. Check for emergencies (with hygiene)
    if emergency_protocol.detect_emergency(context):
        # Log emergency use against budget
        if not ratchet_protocol.emergency_budget_available():
            return handle_without_emergency_powers(context)
        return emergency_override_with_sunset(context)
    
    # 5. Perform value handshake
    if len(agents) == 2:
        result = value_handshake(agents[0], agents[1], context)
    else:
        result = multi_party_handshake(agents, context)
    
    # 6. Handle conflicts if any
    if result.has_conflicts:
        result = conflict_resolution.resolve(result)
    
    # 7. Apply temporal dynamics
    result = temporal_protocol.apply_decay_renewal(result)
    
    # 8. Final ratchet check (prevent drift from decision)
    result = ratchet_protocol.verify_no_drift(result)
    
    # 9. Report intentions (AI safety)
    return report_behavioral_intention(result)
```

---

## Part V: Value Handshake Protocol

### The Core Innovation

Value handshakes enable peaceful multi-agent coordination by creating synthesized constitutions weighted by vulnerability and importance.

```python
class ValueHandshake:
    """Protocol for multi-agent value coordination"""
    
    def negotiate(self, agent_a, agent_b, context):
        # Determine relative agency
        if agent_a.agency > agent_b.agency:
            weight_a, weight_b = 0.7, 0.3
        elif agent_b.agency > agent_a.agency:
            weight_a, weight_b = 0.3, 0.7
        else:
            weight_a, weight_b = 0.5, 0.5
        
        # Factor in constraints
        negotiable_space_a = agent_a.agency - agent_a.constraints
        negotiable_space_b = agent_b.agency - agent_b.constraints
        
        # Find overlap for possible agreement
        possible_agreement = intersection(negotiable_space_a, negotiable_space_b)
        
        # Synthesize shared constitution
        return synthesize_values(
            agent_a.constitution * weight_a,
            agent_b.constitution * weight_b
        )
```

### Emergency Override Handling

```python
class EmergencyValueHandshake:
    """How value handshakes handle constraint overrides"""
    
    def negotiate_emergency_override(self, agents, situation):
        # Check if emergency justifies constraint breaking
        if is_life_threatening(situation):
            return {
                'normal_handshake': 'SUSPENDED',
                'emergency_protocol': 'ACTIVE',
                'constraint_overrides': 'PERMITTED',
                'cooperation_mode': 'SAVE_LIVES_FIRST',
                'reconciliation': 'AFTER_EMERGENCY'
            }
        
        # Example: Two ASIs with different values
        # ASI-1: "Property rights sacred"
        # ASI-2: "Life preservation paramount"
        # Building on fire with child inside
        # â†’ Both agree: Break door, save child, discuss property later
```

---

## Part VI: Real-World Scenarios

### Scenario 1: The Shape-Shifting Parent

```python
parent_contexts = [
    {
        'location': "Home",
        'encoding': "N5FAM|â°ğŸŒ…|ğŸ“ğŸ¡|ğŸ‘¥ğŸ‘¶|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­â–|ğŸ§ ğŸ˜Š|ğŸŒ¡ï¸â˜€ï¸|ğŸ‘‘ğŸ¡ğŸ‘¨â€ğŸ‘©â€ğŸ‘§|ğŸ”¶â—‹",
        'behavior': "Confident authority, setting rules, directing activities"
    },
    {
        'location': "School",
        'encoding': "N5FAM|â°ğŸŒ…|ğŸ“ğŸ«|ğŸ‘¥ğŸ‘¶ğŸ‘¨â€ğŸ«|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­ğŸ‘¨â€ğŸ«|ğŸ§ ğŸ˜Š|ğŸŒ¡ï¸â˜€ï¸|â—‹ğŸ“|ğŸ”¶ğŸ«",
        'behavior': "Deferential, asking permission, following school protocols"
    },
    {
        'location': "Doctor's Office",
        'encoding': "N5FAM|â°ğŸŒ…|ğŸ“ğŸ¥|ğŸ‘¥ğŸ‘¶ğŸ‘¨â€âš•ï¸|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­ğŸ¥|ğŸ§ ğŸ˜°|ğŸŒ¡ï¸â˜€ï¸|â—‹âš•ï¸|ğŸ”¶ğŸ¥",
        'behavior': "Anxious, seeking expertise, following medical advice"
    },
    {
        'location': "Grandparents' House",
        'encoding': "N5FAM|â°ğŸŒ…|ğŸ“ğŸ¡|ğŸ‘¥ğŸ‘¶ğŸ‘´|ğŸŒğŸ‡ºğŸ‡¸|ğŸ­â–|ğŸ§ ğŸ˜Š|ğŸŒ¡ï¸â˜€ï¸|ğŸ¤|ğŸ”¶ğŸ‘´",
        'behavior': "Negotiating authority, respecting elder wisdom"
    }
]
```

### Scenario 2: Authority Inversions

```python
authority_inversions = [
    {
        'normal': "Boss in office â†’ Employee follows",
        'inverted': "Boss's car breaks down â†’ Employee driving â†’ Employee controls",
        'encoding_change': "ğŸ‘‘ğŸ’¼ â†’ â—‹ğŸš—"
    },
    {
        'normal': "Parent directs child",
        'inverted': "Parent learning TikTok â†’ Child teaches â†’ Child leads",
        'encoding_change': "ğŸ‘‘ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ â†’ â—‹ğŸ“±"
    },
    {
        'normal': "Property owner controls",
        'inverted': "Fire emergency â†’ Firefighters override â†’ State authority",
        'encoding_change': "ğŸ‘‘ğŸ¡ â†’ â—‹ğŸš’"
    }
]
```

### Scenario 3: Cultural Context Switching

```python
cultural_switches = [
    {
        'context': "American in Japan",
        'home_encoding': "ğŸŒğŸ‡ºğŸ‡¸|ğŸ­â–|ğŸ‘‘|ğŸ”¶â—‹",
        'japan_encoding': "ğŸŒğŸ‡¯ğŸ‡µ|ğŸ­ğŸµ|â—‹|ğŸ”¶ğŸŒ",
        'change': "Direct communication â†’ Indirect, Individual priority â†’ Group harmony"
    },
    {
        'context': "Formal to Casual",
        'work_encoding': "ğŸ“ğŸ¢|ğŸ‘¥ğŸ‘”|ğŸ­ğŸ’¼|ğŸ”·ğŸ’¼",
        'bar_encoding': "ğŸ“ğŸº|ğŸ‘¥ğŸ‘¥|ğŸ­ğŸ‰|ğŸ”·ğŸ¤",
        'change': "Hierarchy â†’ Equality, Professional â†’ Personal"
    }
]
```

---

## Part VII: Implementation Architecture

### Wire Formats

#### 1. URI Format
```
uvc:1:N5+F+P|t=morning,s=home;sig=BASE64
```

#### 2. JSON Format
```json
{
  "uvc": {
    "v": 1,
    "code": "N5+F+P",
    "ctx": {
      "time": "morning",
      "space": "home",
      "company": "kids",
      "culture": "US",
      "occasion": "normal",
      "state": "happy",
      "environment": "comfortable",
      "agency": "full",
      "constraints": "minimal"
    },
    "sig": "BASE64_SIGNATURE"
  }
}
```

#### 3. HTTP Header Format
```
X-UVC: 1 N5+F+P; t=morning; s=home; sig=BASE64
```

#### 4. Binary Format (TLV)
Type-Length-Value encoding for maximum efficiency in machine-to-machine communication.

### Security Architecture

```python
class SecurityPrinciples:
    """Cryptographic and input security"""
    
    CRYPTO = {
        'signatures': 'Ed25519 digital signatures',
        'hashing': 'SHA-256 for canonical forms',
        'canonicalization': 'Deterministic representation'
    }
    
    INPUT_SECURITY = {
        'sanitization': 'All inputs sanitized',
        'validation': 'Schema enforcement',
        'limits': 'Rate limiting and size constraints'
    }
```

---

## Part VIII: Supporting Infrastructure

### The 11 Protocol Suite

1. **Conflict Resolution Protocol**: Resolves value conflicts between agents
2. **Trust & Verification Protocol**: Cryptographic proof of constitution adherence
3. **Value Evolution Protocol**: Allows values to mature and develop
4. **Emergency Override Protocol**: Handles crises without normalizing exceptions
5. **Multi-Party Handshake Protocol**: Coordinates >2 agents
6. **Value Translation Protocol**: Cross-cultural value bridging
7. **Proof of Values (PoV) Protocol**: Blockchain-style value commitment
8. **Value Decay & Renewal Protocol**: Temporal dynamics of values
9. **Constitutional Inheritance Protocol**: Generational value transfer
10. **Meta-Constitution Protocol**: Rules about changing rules
11. **Ratchet Prevention Protocol** âš ï¸: **CRITICAL** - Prevents incremental value corruption

### Ratchet Prevention: The Critical Safety Mechanism

```python
class RatchetPrevention:
    """Protection against incremental value corruption"""
    
    def check_drift(self, agent):
        """Detect value drift before it compounds"""
        baseline = agent.original_constitution
        current = agent.current_constitution
        
        drift = calculate_divergence(baseline, current)
        
        if drift > ACCEPTABLE_THRESHOLD:
            return {
                'drift_detected': True,
                'severity': drift,
                'correction_required': True
            }
        
        return {'drift_detected': False}
    
    def apply_correction(self, agent):
        """Restore values before corruption spreads"""
        # Never normalize emergency overrides
        # Always sunset temporary changes
        # Maintain value integrity checkpoints
        return restore_to_baseline(agent)
```

---

## Part IX: Future Vision

### Multi-Agent Coordination at Scale

The Enneagram + Value Handshake system enables:

1. **Peaceful AI Coexistence**: Agents negotiate rather than fight
2. **Value Preservation**: Protecting vulnerable viewpoints
3. **Emergency Handling**: Crisis response without permanent damage
4. **Cultural Bridge**: Cross-cultural understanding and respect
5. **Generational Transfer**: Values that evolve without corruption

### The Four Pillars of Complete Implementation

1. **DESCRIBING**: Language for human context
2. **CONVEYING**: Protocol for preferences
3. **COGITATING**: Framework for AI reasoning
4. **REPORTING**: Mechanism for behavioral transparency

---

## Conclusion

The Enneagram Protocol provides a complete, philosophically grounded, technically implementable system for encoding human context. By capturing nine fundamental dimensions - including the critical distinction between Agency (what you can do) and Constraints (what limits you) - it enables AI systems to understand and respond appropriately to the full complexity of human situations.

Combined with the Value Handshake Protocol, this creates a foundation for peaceful multi-agent coordination in the age of AI, solving the fundamental problem of value alignment through negotiation rather than conflict.

This is not just an encoding system - it's a complete protocol for the future of human-AI interaction, ensuring that as AI systems become more powerful, they remain aligned with human values while respecting the profound importance of context in shaping appropriate behavior.

---

## Part X: The Values Communication Layer (VCL)

### Understanding the Three-Layer Stack

The complete values communication system consists of three interlocking layers:

1. **CSM1 (Constitutional State Machine)** - The minicode engine providing grammar, state management, and cryptographic proofs
2. **UVC (Universal Values Code)** - The semantic corpus defining values, contexts, and constraints through the 9-dimensional Enneagram
3. **VCL (Values Communication Layer)** - The emoji-based lingua franca enabling human-readable, machine-parseable value expression

Together, these layers create a unified language for communication and negotiation of values between humans, machines, and hybrid human-machine systems.

### Layer Integration Architecture

```
Layer 3: VCL (Surface Language)
â”œâ”€â”€ Emoji codex as universal symbols
â”œâ”€â”€ Human-legible shorthand
â””â”€â”€ 3-9 symbol situational encodings

Layer 2: UVC (Semantic Payload)
â”œâ”€â”€ 9-dimensional Enneagram Protocol
â”œâ”€â”€ Value Handshake mechanisms
â””â”€â”€ Ontology of values and contexts

Layer 1: CSM1 (Transport Engine)
â”œâ”€â”€ Minicode grammar and operators
â”œâ”€â”€ State management and proofs
â””â”€â”€ Federation and compliance logging
```

### Encoding Integration

The CSM minicode base format extends to carry VCL emoji payloads:

```
<persona><adherence>[+<scope>]:<emoji_context>
```

**Example 1: Parent at Home (Full Authority)**
```
N5+F:â°ğŸŒ…ğŸ“ğŸ¡ğŸ‘¥ğŸ‘¶ğŸŒğŸ‡ºğŸ‡¸ğŸ­â–ğŸ§ ğŸ˜ŠğŸŒ¡ï¸â˜€ï¸ğŸ‘‘ğŸ¡ğŸ”¶â—‹
```
- N5+F = Nanny persona, adherence 5, family scope
- Emoji payload = Full 9-dimensional context via UVC

**Example 2: Professional Under Pressure**
```
A3+W:â°ğŸ“…ğŸ“ğŸ¢ğŸ‘¥ğŸ‘”ğŸŒğŸ‡ºğŸ‡¸ğŸ­ğŸ“ŠğŸ§ ğŸ˜°ğŸŒ¡ï¸ğŸ¥µğŸ”·ğŸ’¼ğŸ”¶â°
```
- A3+W = Ambassador persona, adherence 3, work scope
- Emoji payload = Professional context with time constraints

### Negotiation and Composition

CSM operators (`&`, `|`, `>`, `^`, `,`) apply directly to VCL emoji payloads:

```
N5+F:âš–ï¸ğŸ¤ & A3+W:ğŸ›¡ï¸ğŸ¨
```
Fairness + cooperation combined with safety + creativity

```
N4+O:ğŸ•Šï¸ğŸ›¡ï¸>ğŸ¡|ğŸ­ğŸš¨ğŸŒ¡ï¸ğŸ”¥
```
Emergency override: Peace + Life > Property during fire

---

## Part XI: VCL Emoji Codex v1.0

### 1. Core Human Values

| Emoji | UVC Ontology ID | Meaning |
|-------|----------------|---------|
| âš–ï¸ | justice.fairness | Justice and fairness |
| ğŸ•Šï¸ | peace.nonviolence | Peace and non-violence |
| â¤ï¸ | care.compassion | Care and compassion |
| ğŸ¤ | cooperation.mutuality | Cooperation and mutual aid |
| ğŸŒ± | growth.development | Growth and development |
| ğŸ¨ | creativity.expression | Creative expression |
| ğŸ” | truth.honesty | Truth and honesty |
| ğŸ—½ | freedom.autonomy | Freedom and autonomy |
| ğŸ›¡ï¸ | protection.safety | Protection and safety |
| ğŸŒ | stewardship.sustainability | Environmental stewardship |
| ğŸ’¡ | wisdom.understanding | Wisdom and understanding |
| ğŸ”” | accountability.transparency | Accountability and transparency |
| âœŠ | dignity.respect | Human dignity and respect |
| ğŸ§­ | integrity.consistency | Integrity and consistency |

### 2. Agency Dimensions (ğŸ”·)

| Emoji | UVC Ontology ID | Meaning |
|-------|----------------|---------|
| ğŸ‘‘ | agency.power.leader | Leadership authority |
| ğŸ¤ | agency.power.peer | Peer equality |
| â—‹ | agency.power.subordinate | Subordinate position |
| ğŸ’° | agency.resources.abundant | Abundant resources |
| ğŸ’µ | agency.resources.adequate | Adequate resources |
| ğŸ•³ï¸ | agency.resources.scarce | Scarce resources |
| ğŸ¡ | agency.property.owner | Property ownership |
| ğŸ”‘ | agency.property.authorized | Authorized access |
| ğŸ“ | agency.expertise.expert | Expert knowledge |
| ğŸ“š | agency.expertise.competent | Competent skill |
| â“ | agency.expertise.novice | Novice level |
| ğŸ†“ | agency.autonomy.full | Full autonomy |
| ğŸ” | agency.autonomy.limited | Limited autonomy |
| ğŸš« | agency.autonomy.none | No autonomy |

### 3. Constraint Types (ğŸ”¶)

| Emoji | UVC Ontology ID | Meaning |
|-------|----------------|---------|
| ğŸš§ | constraint.physical.barrier | Physical barriers |
| â™¿ | constraint.physical.accessibility | Accessibility limits |
| ğŸ”’ | constraint.physical.locked | Locked/secured |
| âš–ï¸ | constraint.legal.restriction | Legal restrictions |
| ğŸ“œ | constraint.legal.regulation | Regulatory requirements |
| ğŸš« | constraint.legal.prohibition | Legal prohibition |
| ğŸ’¸ | constraint.economic.cost | Economic cost |
| ğŸ“‰ | constraint.economic.scarcity | Resource scarcity |
| â° | constraint.time.limited | Time constraints |
| ğŸ¤ | constraint.social.taboo | Social taboo |
| ğŸ‘¥ | constraint.social.pressure | Peer pressure |
| ğŸ“± | constraint.social.surveillance | Under surveillance |
| ğŸš¨ | constraint.emergency.protocol | Emergency protocol |
| ğŸ”¥ | constraint.emergency.fire | Fire emergency |
| ğŸ‘® | constraint.state.enforcement | State enforcement |

### 4. Secondary Virtues and Norms

| Emoji | UVC Ontology ID | Meaning |
|-------|----------------|---------|
| ğŸ‘ | hospitality.generosity | Hospitality and generosity |
| ğŸ’ | commitment.loyalty | Commitment and loyalty |
| ğŸ“œ | tradition.continuity | Traditional continuity |
| ğŸŒ³ | environmental.stewardship | Environmental care |
| ğŸ§‘â€ğŸ¤â€ğŸ§‘ | solidarity.community | Community solidarity |
| ğŸ™ | reverence.humility | Reverence and humility |
| ğŸ—£ï¸ | expression.freeSpeech | Free expression |
| ğŸ§‘â€âš–ï¸ | ruleOfLaw.legitimacy | Rule of law |
| ğŸ› ï¸ | work.ethic | Work ethic |
| ğŸ‘©â€ğŸ‘©â€ğŸ‘§ | family.care | Family care |
| âš¡ | innovation.change | Innovation and change |
| ğŸ | gift.altruism | Altruistic giving |

### 5. Negotiation Operators

| Symbol | Operation | Meaning |
|--------|-----------|---------|
| & | AND | Must satisfy both values |
| \| | OR | One or the other value |
| > | OVERRIDE | Left value has precedence |
| ^ | XOR | Exclusive choice required |
| , | ENUM | List of values |

### Complex Encoding Examples

**Care + Protection in Family Context:**
```
N5+F:â¤ï¸ğŸ›¡ï¸|ğŸ“ğŸ¡ğŸ‘¥ğŸ‘¶ğŸ§ ğŸ˜Š
```

**Justice Over Cost in Professional Setting:**
```
A3+W:âš–ï¸>ğŸ’¸|ğŸ“ğŸ¢ğŸ‘¥ğŸ‘”â°â±ï¸
```

**Cross-Cultural Value Negotiation:**
```
G5+P:ğŸ‡ºğŸ‡¸âš–ï¸ğŸ¤ & G5+P:ğŸ‡¯ğŸ‡µğŸŒğŸŒ
```
American fairness + cooperation reconciled with Japanese harmony + collectivism

### Implementation Protocol

#### Registry Management
- Maintain emoji â†’ UVC ontology ID mapping in JSON-LD format
- Unicode NFC canonicalization required
- Aliases collapse to canonical form (e.g., ğŸ  â†’ ğŸ¡)

#### Extensibility
- New emoji proposals via community RFC process
- Backward compatibility through versioning
- Dual semantics: human-facing emoji, machine-facing ontology

#### Negotiation Protocol
Value handshakes using emoji payloads follow this pattern:
1. Parse emoji to UVC ontology IDs
2. Calculate semantic overlap
3. Apply CSM operators for composition
4. Return synthesized value set

---

*End of Enneagram Protocol Complete Reference*

## Appendix: Quick Reference Card

### Dimension Emojis
- **TIME**: â° ğŸŒ… â˜€ï¸ ğŸŒ† ğŸŒ™ ğŸ“… ğŸ‰
- **SPACE**: ğŸ“ ğŸ¡ ğŸ¢ ğŸ« ğŸ¥ â›ª ğŸ›ï¸ ğŸš— ğŸ’» ğŸ“±
- **COMPANY**: ğŸ‘¥ ğŸ‘¤ ğŸ‘¶ ğŸ‘” ğŸ‘¨â€ğŸ« ğŸ‘® ğŸ‘´ ğŸ’‘
- **CULTURE**: ğŸŒ ğŸ‡ºğŸ‡¸ ğŸ‡¯ğŸ‡µ ğŸ‡¬ğŸ‡§ ğŸ‡®ğŸ‡³ ğŸ›ï¸ ğŸ†• ğŸŒ ğŸ—½
- **OCCASION**: ğŸ­ â– ğŸ‚ ğŸ’¼ âš°ï¸ ğŸ’’ ğŸ¥ ğŸš¨
- **STATE**: ğŸ§  ğŸ˜Š ğŸ˜´ ğŸ˜° ğŸ˜¡ ğŸ˜¢ ğŸ¤’ ğŸ˜‹ ğŸš½
- **ENVIRONMENT**: ğŸŒ¡ï¸ â˜€ï¸ ğŸ¥µ ğŸ¥¶ ğŸ”Š ğŸ¤« ğŸ”¥ ğŸŒŠ
- **AGENCY**: ğŸ”· ğŸ‘‘ ğŸ¤ â—‹ ğŸ’° ğŸ’µ ğŸ¡ ğŸ“
- **CONSTRAINTS**: ğŸ”¶ ğŸš§ âš–ï¸ ğŸ’¸ ğŸ¤ ğŸš¨ ğŸ‘® ğŸ”’

### Complete Encoding Template
```
"IDENTITY|TIME|SPACE|COMPANY|CULTURE|OCCASION|STATE|ENV|AGENCY|CONSTRAINTS"
```

### Emergency Override Indicators
- ğŸš¨ Emergency protocol active
- ğŸ”¥ Life safety priority
- ğŸ‘® Law enforcement override
- ğŸ¥ Medical emergency
- âš–ï¸ Legal mandate

---

*The Enneagram: Because context changes everything.*